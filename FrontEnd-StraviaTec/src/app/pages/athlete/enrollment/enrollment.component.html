<h3 class="card-title"><b>Vista Deportista > Inscripciones</b> </h3>
<h4><b>Descripci√≥n: </b>El sistema permite a los desportistas inscribirse a carreras,retos y grupos.</h4>

<div class="row">
  <div class="col-md-12">
    <div class="card ">
      <div class="card-header ">
      </div>
      <div class="card-body ">
        <div class="row">
          <div class="col-md-12">
            <div class="card ">
              <div class="card-body">
                <div class="card-header">
                  <h3><b>Carreras Disponibles</b></h3>
                </div>
                <div class="table-responsive">
                  <table class="table">
                    <thead class="text-primary">
                      <div fxFlex="30%" *ngFor="let item of races_table_titles">
                        <td>
                          {{item[0]}}
                        </td>
                        <td>
                          {{item[1]}}
                        </td>
                        <td>
                        <td  >
                          {{item[2]}}
                        </td>
                        <td  >
                          {{item[3]}}
                        </td>
                        <td  >
                          {{item[4]}}
                        </td>
                        <td  >
                          {{item[5]}}
                        </td>
                        <td  >
                          {{item[6]}}
                        </td>
                        <td  >
                          {{item[7]}}
                        </td>
                        <td  >
                          {{item[8]}}
                        </td>
                      </div>

                    </thead>
                    <tbody>
                      <div fxFlex="30%" *ngFor="let item of races_table_content">
                        <td>
                          {{item[0]}}
                        </td>
                        <td>
                          {{item[1]}}
                        </td>
                        <td>
                        <td  >
                          {{item[2]}}
                        </td>
                        <td  >
                          {{item[3]}}
                        </td>
                        <td  >
                          {{item[4]}}
                        </td>
                        <td  >
                          {{item[5]}}
                        </td>
                        <td  >
                          {{item[6]}}
                        </td>
                        <td  >
                          {{item[7]}}
                        </td>
                        <td  >
                          {{item[8]}}
                        </td>
                      </div>
                    </tbody>
                  </table>

                </div>
              </div>
            </div>
          </div>



        </div>

        <a target="_blank" class="btn btn-round btn-primary" style="color: #fff;" (click)="openModal(signup_race_modal)">Inscribirse a una Carrera</a>



      </div>
    </div>
  </div>
</div>



<div class="row">
  <div class="col-md-12">
    <div class="card ">
      <div class="card-header ">
        <h2 class="card-title">Retos</h2>
      </div>
      <div class="card-body ">
        <div class="table-responsive">
          <table class="table">
            <thead class="text-primary">
              <div fxFlex="30%" *ngFor="let item of challenges_table_titles">
                <td>
                  {{item[0]}}
                </td>
                <td>
                  {{item[1]}}
                </td>
                <td>
                  {{item[2]}}
                </td>
                <td>
                  {{item[3]}}
                </td>
                <td>
                  {{item[4]}}
                </td>
                <td>
                  {{item[5]}}
                </td>
                <td>
                  {{item[6]}}
                </td>
              </div>

            </thead>
            <tbody>
              <div fxFlex="30%" *ngFor="let item of challenges_table_content">
                <td>
                  {{item[0]}}
                </td>
                <td>
                  {{item[1]}}
                </td>
                <td>
                  {{item[2]}}
                </td>
                <td>
                  {{item[3]}}
                </td>
                <td>
                  {{item[4]}}
                </td>
                <td>
                  {{item[5]}}
                </td>
                <td>
                  {{item[6]}}
                </td>
              </div>
            </tbody>
          </table>

        </div>

        <a target="_blank" class="btn btn-round btn-primary" style="color: #fff;" (click)="openModal(signup_challenge_modal)">Inscribirse a un Reto</a>

      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-12">
    <div class="card ">
      <div class="card-header ">
      </div>
      <div class="card-body ">
        <div class="row">
          <div class="col-md-12">
            <div class="card ">
              <div class="card-header">
                <h3><b>Grupos Disponibles</b></h3>
              </div>
              <div class="card-body">
                <div class="table-responsive">
                  <table class="table">
                    <thead class="text-primary">
                      <div fxFlex="30%" *ngFor="let item of groups_table_titles">
                        <td>
                          {{item[0]}}
                        </td>
                        <td>
                          {{item[1]}}
                        </td>
                        <td>
                          {{item[2]}}
                        </td>
                        <td>
                          {{item[3]}}
                        </td>
                      </div>

                    </thead>
                    <tbody>
                      <div fxFlex="30%" *ngFor="let item of groups_table_content">
                        <td>
                          {{item[0]}}
                        </td>
                        <td>
                          {{item[1]}}
                        </td>
                        <td>
                          {{item[2]}}
                        </td>
                        <td>
                          {{item[3]}}
                        </td>
                      </div>
                    </tbody>
                  </table>

                </div>
              </div>
            </div>
          </div>
        </div>
        <a target="_blank" class="btn btn-round btn-primary" style="color: #fff;" (click)="openModal(signup_group_modal)">Inscribirse a un Grupo</a>
      </div>
    </div>
  </div>
</div>

<ng-template #signup_race_modal let-modal>

  <div class="modal-header">
    <img src="../../../../assets/img/straviatec-logo.png" class="display-4" style="margin-left: auto;margin-right: auto; display: block; width: 60%;">
  </div>
  <div class="modal-body" >
    <h3 ><b>Inscribirse a una carrera.</b></h3>
    <form>

      <div class="form-group mb-3">
        <input #race_id type="text" placeholder="Id de la Carrera" min="1950-01-01" max="2021-12-31" required autofocus class="form-control rounded-pill border-0 shadow-sm px-4">
      </div>

      <p>Ingrese la foto del recibo donde se muestre con claridad el total del costo. Nota: pida que se le anote en el recibo su nombre y apellidos junto con el nombre de la carrera.</p>

      <span style="color:red;" *ngIf="message">{{message}}</span>
      <input #file type="file" accept='image/*' (change)="preview(file.files)" class="form-control rounded-pill border-0 shadow-sm px-4"/>
      <img [src]="imgURL" style="width: 200px;" *ngIf="imgURL">


    </form>
  </div>
  <div class="modal-footer">
      <button type="button" class="btn btn-success" (click)="signupRace(race_id.value, file.value)" (click)="modal.close()">Enviar Solicitud</button>
      <button type="button" class="btn btn-outline-danger" (click)="modal.close()">Cancelar</button>
  </div>
</ng-template>

<ng-template #signup_challenge_modal let-modal>

  <div class="modal-header">
    <img src="../../../../assets/img/straviatec-logo.png" class="display-4" style="margin-left: auto;margin-right: auto; display: block; width: 60%;">
  </div>
  <div class="modal-body" >
    <h3 ><b>Inscribirse a un reto.</b></h3>
    <form>

      <div class="form-group mb-3">
        <input #challenge_id type="text" placeholder="Id del Reto" required autofocus class="form-control rounded-pill border-0 shadow-sm px-4">
      </div>

    </form>
  </div>
  <div class="modal-footer">
      <button type="button" class="btn btn-success" (click)="signupChallenge(challenge_id.value)" (click)="modal.close()">Enviar Solicitud</button>
      <button type="button" class="btn btn-outline-danger" (click)="modal.close()">Cancelar</button>
  </div>
</ng-template>

<ng-template #signup_group_modal let-modal>

  <div class="modal-header">
    <img src="../../../../assets/img/straviatec-logo.png" class="display-4" style="margin-left: auto;margin-right: auto; display: block; width: 60%;">
  </div>
  <div class="modal-body" >
    <h3 ><b>Inscribirse a un grupo.</b></h3>
    <form>

      <div class="form-group mb-3">
        <input #group_id type="text" placeholder="Id del Grupo" required autofocus class="form-control rounded-pill border-0 shadow-sm px-4">
      </div>

    </form>
  </div>
  <div class="modal-footer">
      <button type="button" class="btn btn-success" (click)="signupGroup(group_id.value)" (click)="modal.close()">Enviar Solicitud</button>
      <button type="button" class="btn btn-outline-danger" (click)="modal.close()">Cancelar</button>
  </div>
</ng-template>
